{
  "context": {
    "project_name": "Project",
    "description": "Code review analysis",
    "tech_stack": [
      "React",
      "Next.js",
      "TypeScript",
      "Tailwind CSS"
    ],
    "architecture_layers": {},
    "dependency_map": {
      "next-env.d.ts": [],
      "next.config.js": [],
      "postcss.config.js": [],
      "prisma.config.ts": [],
      "tailwind.config.js": [],
      "src\\app\\layout.tsx": [],
      "src\\app\\page.tsx": [],
      "src\\app\\api\\properties\\route.ts": [],
      "src\\app\\lib\\db.ts": [],
      "src\\app\\properties\\[id]\\page.tsx": [],
      "src\\components\\DashboardClient.tsx": [],
      "src\\components\\OpportunityMap.tsx": [],
      "src\\components\\PropertyDataTable.tsx": [],
      "src\\components\\Sidebar.tsx": [],
      "src\\components\\StrategyKanban.tsx": [],
      "src\\components\\ValueScatterPlot.tsx": [],
      "src\\data\\properties.ts": []
    }
  },
  "analysis": {
    "timestamp": "2026-02-15T11:22:36.554147",
    "project_root": "D:\\Properties4Creation\\Property App",
    "files": [
      {
        "path": "next-env.d.ts",
        "violations": [],
        "summary": "/// <reference types=\"next\" />\n/// <reference types=\"next/image-types/global\" />\n\n// NOTE: This file should not be edited\n// see https://nextjs.org/docs/app/building-your-application/configuring/typescript for more information.\n"
      },
      {
        "path": "next.config.js",
        "violations": [],
        "summary": "/** @type {import('next').NextConfig} */\nconst nextConfig = {\n  reactStrictMode: true,\n  swcMinify: true,\n}\n\nmodule.exports = nextConfig\n"
      },
      {
        "path": "postcss.config.js",
        "violations": [],
        "summary": "module.exports = {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n}\n"
      },
      {
        "path": "prisma.config.ts",
        "violations": [],
        "summary": "// This file was generated by Prisma, and assumes you have installed the following:\n// npm install --save-dev prisma dotenv\nimport \"dotenv/config\";\nimport { defineConfig } from \"prisma/config\";\n\nexport default defineConfig({\n  schema: \"prisma/schema.prisma\",\n  migrations: {\n    path: \"prisma/migrations\",\n  },\n  datasource: {\n    url: process.env[\"DATABASE_URL\"],\n  },\n});\n"
      },
      {
        "path": "tailwind.config.js",
        "violations": [
          {
            "severity": "LOW",
            "type": "MAINTAINABILITY",
            "message": "Hardcoded hex color detected. Consider using theme constants or CSS variables."
          },
          {
            "severity": "LOW",
            "type": "MAINTAINABILITY",
            "message": "Magic number detected. Consider defining named constants for clarity."
          }
        ],
        "summary": "/** @type {import('tailwindcss').Config} */\nmodule.exports = {\n  content: [\n    './src/pages/**/*.{js,ts,jsx,tsx,mdx}',\n    './src/components/**/*.{js,ts,jsx,tsx,mdx}',\n    './src/app/**/*.{js,ts,jsx,tsx,mdx}',\n  ],\n  darkMode: 'class',\n  theme: {\n    extend: {\n      colors: {\n        primary: {\n          50: '#f0f9ff',\n          100: '#e0f2fe',\n          200: '#bae6fd',\n          300: '#7dd3fc',\n          400: '#38bdf8',\n          500: '#0ea5e9',\n          600: '#0284c7',\n          700: '#0369a1',\n          800: '#075985',\n          900: '#0c4a6e',\n        },\n        dark: {\n          50: '#f8fafc',\n          100: '#f1f5f9',\n          200: '#e2e8f0',\n          300: '#cbd5e1',\n          400: '#94a3b8',\n          500: '#64748b',\n          600: '#475569',\n          700: '#334155',\n          800: '#1e293b',\n          900: '#0f172a',\n          950: '#020617',\n        },\n        platinum: '#10b981',\n        gold: '#f59e0b',\n        silver: '#f97316',\n        hardfail: '#ef4444',\n        cau"
      },
      {
        "path": "src\\app\\layout.tsx",
        "violations": [
          {
            "severity": "LOW",
            "type": "MAINTAINABILITY",
            "message": "Magic number detected. Consider defining named constants for clarity."
          }
        ],
        "summary": "import type { Metadata } from 'next'\nimport './globals.css'\n\nexport const metadata: Metadata = {\n  title: 'Real Estate Deal Triage Dashboard',\n  description: 'High-performance real estate deal analysis and visualization dashboard',\n}\n\nexport default function RootLayout({\n  children,\n}: {\n  children: React.ReactNode\n}) {\n  return (\n    <html lang=\"en\" className=\"dark\">\n      <body className=\"bg-dark-950 text-dark-50 antialiased\">\n        {children}\n      </body>\n    </html>\n  )\n}\n"
      },
      {
        "path": "src\\app\\page.tsx",
        "violations": [
          {
            "severity": "LOW",
            "type": "MAINTAINABILITY",
            "message": "Hardcoded hex color detected. Consider using theme constants or CSS variables."
          },
          {
            "severity": "LOW",
            "type": "MAINTAINABILITY",
            "message": "Magic number detected. Consider defining named constants for clarity."
          }
        ],
        "summary": "'use client';\n\nimport { useState, useMemo } from 'react';\nimport dynamic from 'next/dynamic';\nimport Sidebar, { ViewType } from '@/components/Sidebar';\nimport { properties as allProperties, searchProperties, Property } from '@/data/properties';\nimport ValueScatterPlot from '@/components/ValueScatterPlot';\nimport StrategyKanban from '@/components/StrategyKanban';\nimport PropertyDataTable from '@/components/PropertyDataTable';\n\n// Dynamically import the map component to avoid SSR issues with Leaflet\nconst OpportunityMap = dynamic(() => import('@/components/OpportunityMap'), {\n  ssr: false,\n  loading: () => (\n    <div className=\"w-full h-full flex items-center justify-center bg-dark-800 rounded-lg\">\n      <div className=\"animate-pulse text-dark-400\">Loading map...</div>\n    </div>\n  ),\n});\n\nexport default function Dashboard() {\n  const [currentView, setCurrentView] = useState<ViewType>('map');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedProperty, setSelectedProp"
      },
      {
        "path": "src\\app\\api\\properties\\route.ts",
        "violations": [
          {
            "severity": "LOW",
            "type": "CLEAN_CODE",
            "message": "Console statement detected. Remove debug logs before production or use proper logging service."
          },
          {
            "severity": "LOW",
            "type": "MAINTAINABILITY",
            "message": "Magic number detected. Consider defining named constants for clarity."
          }
        ],
        "summary": "import { NextRequest, NextResponse } from 'next/server';\nimport { properties, Property, calculateCapRate, calculateCashOnCashReturn, calculateMAO, calculateOnePercentRule, calculateGrossYield } from '@/data/properties';\n\nexport async function GET(request: NextRequest) {\n  try {\n    const { searchParams } = new URL(request.url);\n    const id = searchParams.get('id');\n    const search = searchParams.get('search');\n    const strategy = searchParams.get('strategy');\n    const decision = searchParams.get('decision');\n    const city = searchParams.get('city');\n\n    // If single property ID is requested\n    if (id) {\n      const property = properties.find((p) => p.id === id);\n      if (!property) {\n        return NextResponse.json(\n          { success: false, error: 'Property not found' },\n          { status: 404 }\n        );\n      }\n      \n      // Add calculated fields\n      const propertyWithCalculations = {\n        ...property,\n        pricePerSqft: Number((property.listPrice / property.s"
      },
      {
        "path": "src\\app\\lib\\db.ts",
        "violations": [],
        "summary": "import { PrismaClient } from '@prisma/client'\n\nconst globalForPrisma = global as unknown as { prisma: PrismaClient }\n\nexport const prisma = globalForPrisma.prisma || new PrismaClient()\n\nif (process.env.NODE_ENV !== 'production') globalForPrisma.prisma = prisma"
      },
      {
        "path": "src\\app\\properties\\[id]\\page.tsx",
        "violations": [
          {
            "severity": "HIGH",
            "type": "ACCESSIBILITY",
            "message": "Image missing alt text. Provide meaningful alt attributes for screen reader accessibility."
          },
          {
            "severity": "LOW",
            "type": "CLEAN_CODE",
            "message": "Console statement detected. Remove debug logs before production or use proper logging service."
          },
          {
            "severity": "LOW",
            "type": "MAINTAINABILITY",
            "message": "Magic number detected. Consider defining named constants for clarity."
          }
        ],
        "summary": "'use client';\n\nimport { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { \n  Property, \n  getPricePerSqft, \n  getPricePerDoor, \n  getDecisionColor, \n  calculateCapRate,\n  calculateCashOnCashReturn,\n  calculateMAO,\n  calculateOnePercentRule,\n  calculateGrossYield\n} from '@/data/properties';\n\ninterface PropertyPageProps {\n  params: { id: string };\n}\n\nexport default function PropertyPage({ params }: PropertyPageProps) {\n  const [property, setProperty] = useState<Property | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    fetchProperty();\n  }, [params.id]);\n\n  const fetchProperty = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      const response = await fetch(`/api/properties?id=${params.id}`);\n      if (!response.ok) {\n        throw new Error(`Failed to fetch property: ${response.status}`);\n      }\n\n      const data = await response.json();\n  "
      },
      {
        "path": "src\\components\\DashboardClient.tsx",
        "violations": [],
        "summary": ""
      },
      {
        "path": "src\\components\\OpportunityMap.tsx",
        "violations": [
          {
            "severity": "LOW",
            "type": "MAINTAINABILITY",
            "message": "Hardcoded hex color detected. Consider using theme constants or CSS variables."
          },
          {
            "severity": "LOW",
            "type": "MAINTAINABILITY",
            "message": "Magic number detected. Consider defining named constants for clarity."
          }
        ],
        "summary": "'use client';\n\nimport { useEffect, useState } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup, useMap } from 'react-leaflet';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport { Property, getDecisionColor, Decision } from '@/data/properties';\n\n// Fix for default marker icons in Next.js\nconst createMarkerIcon = (color: string) => {\n  return L.divIcon({\n    className: 'custom-marker',\n    html: `\n      <div style=\"\n        width: 24px;\n        height: 24px;\n        background-color: ${color};\n        border: 3px solid white;\n        border-radius: 50%;\n        box-shadow: 0 2px 8px rgba(0,0,0,0.4);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      \">\n        <div style=\"\n          width: 8px;\n          height: 8px;\n          background-color: white;\n          border-radius: 50%;\n        \"></div>\n      </div>\n    `,\n    iconSize: [24, 24],\n    iconAnchor: [12, 12],\n    popupAnchor: [0, -12],\n  });\n};\n\n// Component to "
      },
      {
        "path": "src\\components\\PropertyDataTable.tsx",
        "violations": [
          {
            "severity": "LOW",
            "type": "MAINTAINABILITY",
            "message": "Hardcoded hex color detected. Consider using theme constants or CSS variables."
          },
          {
            "severity": "LOW",
            "type": "MAINTAINABILITY",
            "message": "Magic number detected. Consider defining named constants for clarity."
          }
        ],
        "summary": "'use client';\n\nimport { useMemo, useState } from 'react';\nimport {\n  useReactTable,\n  getCoreRowModel,\n  getSortedRowModel,\n  getFilteredRowModel,\n  getPaginationRowModel,\n  flexRender,\n  createColumnHelper,\n  SortingState,\n  ColumnFiltersState,\n} from '@tanstack/react-table';\nimport clsx from 'clsx';\nimport { \n  Property, \n  getPricePerSqft, \n  getPricePerDoor, \n  getDecisionColor, \n  Decision,\n  calculateCapRate,\n  calculateCashOnCashReturn,\n  calculateMAO,\n  calculateOnePercentRule,\n  calculateGrossYield\n} from '@/data/properties';\n\ninterface PropertyDataTableProps {\n  properties: Property[];\n  onPropertyClick?: (property: Property) => void;\n}\n\nconst columnHelper = createColumnHelper<Property>();\n\nexport default function PropertyDataTable({ properties, onPropertyClick }: PropertyDataTableProps) {\n  const [sorting, setSorting] = useState<SortingState>([]);\n  const [columnFilters, setColumnFilters] = useState<ColumnFiltersState>([]);\n  const [globalFilter, setGlobalFilter] = useState<"
      },
      {
        "path": "src\\components\\Sidebar.tsx",
        "violations": [
          {
            "severity": "LOW",
            "type": "MAINTAINABILITY",
            "message": "Magic number detected. Consider defining named constants for clarity."
          }
        ],
        "summary": "'use client';\n\nimport { useState } from 'react';\nimport clsx from 'clsx';\nimport {\n  MapIcon,\n  ChartBarIcon,\n  Squares2X2Icon,\n  TableCellsIcon,\n  MagnifyingGlassIcon,\n  HomeIcon,\n} from '@heroicons/react/24/outline';\n\nexport type ViewType = 'map' | 'scatter' | 'kanban' | 'table';\n\ninterface SidebarProps {\n  currentView: ViewType;\n  onViewChange: (view: ViewType) => void;\n  searchQuery: string;\n  onSearchChange: (query: string) => void;\n}\n\nconst navigationItems = [\n  { id: 'map' as ViewType, name: 'Opportunity Map', icon: MapIcon },\n  { id: 'scatter' as ViewType, name: 'Value Analysis', icon: ChartBarIcon },\n  { id: 'kanban' as ViewType, name: 'Strategy Board', icon: Squares2X2Icon },\n  { id: 'table' as ViewType, name: 'Data Grid', icon: TableCellsIcon },\n];\n\nexport default function Sidebar({\n  currentView,\n  onViewChange,\n  searchQuery,\n  onSearchChange,\n}: SidebarProps) {\n  const [isCollapsed, setIsCollapsed] = useState(false);\n\n  return (\n    <aside\n      className={clsx(\n        '"
      },
      {
        "path": "src\\components\\StrategyKanban.tsx",
        "violations": [
          {
            "severity": "LOW",
            "type": "MAINTAINABILITY",
            "message": "Hardcoded hex color detected. Consider using theme constants or CSS variables."
          },
          {
            "severity": "LOW",
            "type": "MAINTAINABILITY",
            "message": "Magic number detected. Consider defining named constants for clarity."
          }
        ],
        "summary": "'use client';\n\nimport { useMemo, useState } from 'react';\nimport clsx from 'clsx';\nimport {\n  DndContext,\n  closestCenter,\n  KeyboardSensor,\n  PointerSensor,\n  useSensor,\n  useSensors,\n  DragOverlay,\n  DragStartEvent,\n  DragEndEvent,\n} from '@dnd-kit/core';\nimport {\n  arrayMove,\n  SortableContext,\n  sortableKeyboardCoordinates,\n  rectSortingStrategy,\n  useSortable,\n} from '@dnd-kit/sortable';\nimport { CSS } from '@dnd-kit/utilities';\nimport { Property, Strategy, getDecisionColor, getPricePerSqft } from '@/data/properties';\n\ninterface StrategyKanbanProps {\n  properties: Property[];\n  onPropertyClick?: (property: Property) => void;\n}\n\nconst strategyConfig: { strategy: Strategy; label: string; color: string; icon: string }[] = [\n  { strategy: 'Retail Flip', label: 'Retail Flip', color: '#3b82f6', icon: '\ud83c\udfe0' },\n  { strategy: 'Section 8', label: 'Section 8', color: '#22c55e', icon: '\ud83c\udfd8\ufe0f' },\n  { strategy: 'BRRR', label: 'BRRR', color: '#a855f7', icon: '\ud83d\udd04' },\n  { strategy: 'Owner Finance', labe"
      },
      {
        "path": "src\\components\\ValueScatterPlot.tsx",
        "violations": [
          {
            "severity": "LOW",
            "type": "MAINTAINABILITY",
            "message": "Hardcoded hex color detected. Consider using theme constants or CSS variables."
          },
          {
            "severity": "LOW",
            "type": "MAINTAINABILITY",
            "message": "Magic number detected. Consider defining named constants for clarity."
          }
        ],
        "summary": "'use client';\n\nimport { useMemo, useState } from 'react';\nimport {\n  ScatterChart,\n  Scatter,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ResponsiveContainer,\n  ReferenceLine,\n  Cell,\n} from 'recharts';\nimport { Property, getPricePerSqft, getDecisionColor, getAveragePricePerSqft, Decision } from '@/data/properties';\n\ninterface ValueScatterPlotProps {\n  properties: Property[];\n  onPropertyClick?: (property: Property) => void;\n}\n\ninterface ChartData {\n  x: number;\n  y: number;\n  size: number;\n  property: Property;\n  isOutlier: boolean;\n}\n\nexport default function ValueScatterPlot({ properties, onPropertyClick }: ValueScatterPlotProps) {\n  const [selectedDecision, setSelectedDecision] = useState<Decision | 'all'>('all');\n  const [showTrendLine, setShowTrendLine] = useState(true);\n\n  const averagePricePerSqft = useMemo(() => {\n    const validProperties = properties.filter(p => p.sqft > 0);\n    if (validProperties.length === 0) return 0;\n    const total = validProperties.reduce((sum, p) "
      },
      {
        "path": "src\\data\\properties.ts",
        "violations": [
          {
            "severity": "LOW",
            "type": "MAINTAINABILITY",
            "message": "Hardcoded hex color detected. Consider using theme constants or CSS variables."
          },
          {
            "severity": "LOW",
            "type": "MAINTAINABILITY",
            "message": "Magic number detected. Consider defining named constants for clarity."
          }
        ],
        "summary": "export type Decision = 'Pass Platinum' | 'Pass Gold' | 'Pass Silver' | 'Hard Fail' | 'Caution';\nexport type Strategy = 'Retail Flip' | 'Section 8' | 'BRRR' | 'Owner Finance' | 'Wholesaling';\n\nexport interface Property {\n  id: string;\n  address: string;\n  city: string;\n  state: string;\n  zip: string;\n  lat: number;\n  lng: number;\n  listPrice: number;\n  equityGap: number;\n  sqft: number;\n  bedrooms: number;\n  bathrooms: number;\n  decision: Decision;\n  strategy: Strategy;\n  rationale: string;\n  type: string;\n  realtor: string;\n  url: string;\n  details: string;\n  // New fields for enhanced functionality\n  images: string[];\n  estimatedRent: number;\n  annualTaxes: number;\n  annualInsurance: number;\n  renovationBudget: number;\n  afterRepairValue: number;\n  notes: string;\n  createdAt: string;\n  updatedAt: string;\n}\n\n// Approximate lat/lng coordinates for East Texas cities\nconst cityCoordinates: Record<string, { lat: number; lng: number }> = {\n  'Longview': { lat: 32.5007, lng: -94.7405 },\n  'M"
      }
    ],
    "summary": {
      "total_files_scanned": 17,
      "total_violations": 21,
      "severity_breakdown": {
        "CRITICAL": 0,
        "HIGH": 1,
        "MEDIUM": 0,
        "LOW": 20
      },
      "violation_types": {
        "MAINTAINABILITY": 18,
        "CLEAN_CODE": 2,
        "ACCESSIBILITY": 1
      }
    }
  }
}